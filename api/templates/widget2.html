<head><style>
    h1, h2, h3, h4, h5, h6 {
     font-size: 20px;
     font-family: Arial, sans-serif;
    }
    #result ul {
        font-family: Arial, sans-serif;
        list-style-type: none; 
        padding: 0;
        margin: 0 auto; 
        text-align: center;
    }
    #result {
        font-family: Arial, sans-serif;
        text-align: center;
    }
</style>
</head>
<center><div class="content">
<h1>üçøYour saved showsüçø</h1>
<div id="result">Loading...</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const username = "{{ username }}";
        fetch(`http://user-profile-microservice-api.e4fvgqf6hucwg8ca.westeurope.azurecontainer.io:5000/displayfavourite?username=${username}`, {
            method: 'GET',
        })
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
            return response.json();
        })
        .then(data => {
  
            const resultElement = document.getElementById('result');
            resultElement.innerHTML = '';

            const movies = data[1];

            if (Array.isArray(movies) && movies.length > 0) {
                const list = document.createElement('ul');
                movies.forEach(item => {
                    const listItem = document.createElement('li');
                    listItem.textContent = item.movie; 
                    list.appendChild(listItem);
                });
                resultElement.appendChild(list);
            } else {
                resultElement.textContent = 'No movies found.';
            }
        })
        .catch(error => {
            console.error('Error:', error);
            document.getElementById('result').textContent = 'Sign up to save movies!';
        });
    })
</script>
</div></center>