<head><style>
    h1, h2, h3, h4, h5, h6 {
     font-size: 20px;
     font-family: Arial, sans-serif;
    }
    #result ul {
        font-family: Arial, sans-serif;
        list-style-type: none; /* Removes bullet points */
        padding: 0; /* Removes default padding from the ul element */
        margin: 0 auto; /* Center the list */
        text-align: center; /* Align text to the left within the centered list */
    }
    #result {
        font-family: Arial, sans-serif;
        text-align: center; /* Ensure the text and list are centered */
    }
</style>
</head>
<center><div class="content">
<h1>üçøYour saved showsüçø</h1>
<div id="result">Loading...</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const username = "{{ username }}";
        fetch(`http://user-profile-microservice-api.e4fvgqf6hucwg8ca.westeurope.azurecontainer.io:5000/displayfavourite?username=${username}`, {
            method: 'GET',
        })
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
            return response.json();
        })
        .then(data => {
            // Handle the response data
            const resultElement = document.getElementById('result');
            // Clear any existing content
            resultElement.innerHTML = '';

            // Access the second element of 'data', which is the array of movie objects
            const movies = data[1];

            // Check if 'movies' is not empty and is an array
            if (Array.isArray(movies) && movies.length > 0) {
                const list = document.createElement('ul');
                movies.forEach(item => {
                    // Create a list item for each movie in the 'movies' array
                    const listItem = document.createElement('li');
                    listItem.textContent = item.movie; // Assuming each item is an object with a 'movie' property
                    list.appendChild(listItem);
                });
                resultElement.appendChild(list);
            } else {
                // If 'movies' is empty or not an array
                resultElement.textContent = 'No movies found.';
            }
        })
        .catch(error => {
            // Handle errors
            console.error('Error:', error);
            document.getElementById('result').textContent = 'Sign up to save movies!';
        });
    })
</script>
</div></center>